---
layout: admin
title: OED upgrades
---
<div>
	<h1>OED Upgrades</h1>

	<strong>This page is under development so the information is probably not accurate.</strong>

	<p>To upgrade the app:</p>
	<ol>
		<li>The commands are run in the terminal and it assumes you understand basics of installing OED.
			See the <a href="adminInstallation.html">OED installation page</a> for further information.</li>
		<li>You probably want to know your current version of OED and the version you want to upgrade to. The current
			version of OED is shown at the bottom of each OED website page from your site. Simply go to the URL for your
			site and see what version you have. The OED version is also listed in the <code>package.json</code> file in
			the root directory of OED. All the officially released and tagged versions is given on the <a
				href="https://github.com/OpenEnergyDashboard/OED/releases" rel="noopener noreferrer">OED GitHub
				release page</a>. You probably want the most recent version but certainly one that is later than what
			you currently have (OED cannot migrate to a previous version and can only upgrade).</li>
		<li>Stop the OED app from running using: <code>systemctl stop oed.service</code>. Note this means that the OED
			website/service is no longer available. It will not be permanently available again until you restart the OED
			service at the
			end of this process.</li>
		<li>Go to the root directory where you have OED installed. It will have the README.md and other files.</li>
		<li>Store your local config changes with: <code>git stash</code></li>
		<li>Make sure you have the latest git information on the tagged version that were created after you last
			installation with: <code>git fetch --tags</code>.</li>
		<li>Update the code to the desired tagged version with: <code>git checkout &lt;tag_name&gt;</code>. that can be
			used for the
			<code>&lt;tag_name&gt;</code>.
		</li>
		<li>Put back your local changes with: <code>git stash pop</code>. You will see message including about
			<code>Changes not staged for commit:</code>. This is okay since you are not going to commit these changes
			back to the OED repository (you are actually in a detached head git state).</li>
		<li>???make sure DB upgrades are done properly??</li>
		<li>Re-build the OED app with <code>docker compose up</code>. This is the same step as the original build from
			the first OED installation and can take a little while. See the <a href="adminInstallation.html">OED
				installation page</a> for further information.</li>
		<li>Restart the OED app and service with: <code>systemctl start oed.service</code>.</li>
	</ol>
</div>